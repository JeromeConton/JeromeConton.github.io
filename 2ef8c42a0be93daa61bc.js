const canvas=document.querySelector("canvas"),context=canvas.getContext("2d");canvas.width=1024,canvas.height=576;const collisionsMap=[];for(let e=0;e<collisionsJson.length;e+=70)collisionsMap.push(collisionsJson.slice(e,70+e));const contactMap=[];for(let e=0;e<contactJson.length;e+=70)contactMap.push(contactJson.slice(e,70+e));const app1Map=[];for(let e=0;e<app1Json.length;e+=70)app1Map.push(app1Json.slice(e,70+e));const app2Map=[];for(let e=0;e<app2Json.length;e+=70)app2Map.push(app2Json.slice(e,70+e));const commentairesMap=[];for(let e=0;e<commentairesJson.length;e+=70)commentairesMap.push(commentairesJson.slice(e,70+e));const diplomeMap=[];for(let e=0;e<diplomeJson.length;e+=70)diplomeMap.push(diplomeJson.slice(e,70+e));const linkedinMap=[];for(let e=0;e<linkedinJson.length;e+=70)linkedinMap.push(linkedinJson.slice(e,70+e));const jeuMap=[];for(let e=0;e<jeuJson.length;e+=70)jeuMap.push(jeuJson.slice(e,70+e));const frontieres=[],compense={x:-65,y:-710};collisionsMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1334===e&&frontieres.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const contact=[];contactMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1134===e&&contact.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const app1=[];app1Map.forEach(((e,o)=>{e.forEach(((e,i)=>{1134===e&&app1.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const app2=[];app2Map.forEach(((e,o)=>{e.forEach(((e,i)=>{1334===e&&app2.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const commentaires=[];commentairesMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1134===e&&commentaires.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const diplome=[];diplomeMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1134===e&&diplome.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const linkedin=[];linkedinMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1134===e&&linkedin.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))}));const jeu=[];jeuMap.forEach(((e,o)=>{e.forEach(((e,i)=>{1334===e&&jeu.push(new Frontiere({position:{x:i*Frontiere.width+compense.x,y:o*Frontiere.height+compense.y}}))}))})),context.fillStyle="white",context.fillRect(0,0,canvas.width,canvas.height);const carteImage=new Image;carteImage.src="./app/public/images/PortfolioGameMap.png";const arrierePlanImage=new Image;arrierePlanImage.src="./app/public/images/PortfolioGameMapArrierePlan.png";const joueurDownImage=new Image;joueurDownImage.src="./app/public/images/JoueurDown.png";const joueurUpImage=new Image;joueurUpImage.src="./app/public/images/JoueurUp.png";const joueurLeftImage=new Image;joueurLeftImage.src="./app/public/images/JoueurLeft.png";const joueurRightImage=new Image;joueurRightImage.src="./app/public/images/JoueurRight.png";const joueur=new BougerJoueur({position:{x:canvas.width/2-24,y:canvas.height/2-34},carteImage:joueurDownImage,cadre:{max:4},bougerJoueurs:{up:joueurUpImage,left:joueurLeftImage,right:joueurRightImage,down:joueurDownImage}}),background=new BougerJoueur({position:{x:compense.x,y:compense.y},carteImage}),arrierePlan=new BougerJoueur({position:{x:compense.x,y:compense.y},carteImage:arrierePlanImage}),touche={z:{press:!1},q:{press:!1},s:{press:!1},d:{press:!1}},bouger=[background,...frontieres,arrierePlan,...contact,...app1,...app2,...commentaires,...diplome,...linkedin,...jeu];function limiteCollision({limite1:e,limite2:o}){return e.position.x+e.width>=o.position.x&&e.position.x<=o.position.x+o.width&&e.position.y<=o.position.y+o.height&&e.position.y+e.height>=o.position.y}const cv={chargement:!1},site1={chargement:!1},site2={chargement:!1},retourcommentaires={chargement:!1},photoDiplome={chargement:!1},siteLinkedin={chargement:!1},petitJeu={chargement:!1};function animationJoueur(){document.querySelector("#retourJeu").style.display="none";const e=window.requestAnimationFrame(animationJoueur);console.log(e),background.draw(),frontieres.forEach((e=>{e.draw()})),contact.forEach((e=>{e.draw()})),app1.forEach((e=>{e.draw()})),app2.forEach((e=>{e.draw()})),commentaires.forEach((e=>{e.draw()})),diplome.forEach((e=>{e.draw()})),linkedin.forEach((e=>{e.draw()})),joueur.draw(),arrierePlan.draw();let o=!0;if(joueur.mouvement=!1,console.log(e),!(cv.chargement||site1.chargement||site2.chargement||retourcommentaires.chargement||photoDiplome.chargement||siteLinkedin.chargement||petitJeu.chargement)){if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<contact.length;o++){const i=contact[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/2&&Math.random()<.02){console.log("chargement contact"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationCv(),window.open("https://contonjerome.fr/"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<app1.length;o++){const i=app1[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement app1"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationSite(),window.open("https://mypartneroutdoor.fr/"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<app2.length;o++){const i=app2[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement app2"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationSite(),window.open("https://boulangerie-lafabrik.fr/"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<commentaires.length;o++){const i=commentaires[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement commentaires jury"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationCommentaires(),window.open("./app/public/images/commentaireJury.webp"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<diplome.length;o++){const i=diplome[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement diplome"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationDiplome(),window.open("./app/public/images/diplomeDev.webp"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<linkedin.length;o++){const i=linkedin[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement Linkedin"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationLinkedin(),window.open("https://www.linkedin.com/in/jerome-conton/"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press||touche.s.press||touche.q.press||touche.d.press)for(let o=0;o<jeu.length;o++){const i=jeu[o],t=(Math.min(joueur.position.x+joueur.width,i.position.x+i.width)-Math.max(joueur.position.x,i.position.x))*(Math.min(joueur.position.y+joueur.height,i.position.y+i.height)-Math.max(joueur.position.y,i.position.y));if(limiteCollision({limite1:joueur,limite2:i})&&t>joueur.width*joueur.height/3&&Math.random()<.05){console.log("chargement app1"),window.cancelAnimationFrame(e),cv.chargement=!0,gsap.to("#chevauchement",{opacity:1,repeat:3,yoyo:!0,duration:.4,onComplete(){gsap.to("#chevauchement",{opacity:1,duration:.4,onComplete(){animationCv(),window.open("./appCv/indexCv.html"),gsap.to("#chevauchement",{opacity:0,duration:.4})}})}});break}}if(touche.z.press&&"z"===derniereTouche){joueur.mouvement=!0,joueur.carteImage=joueur.bougerJoueurs.up;for(let e=0;e<frontieres.length;e++){const i=frontieres[e];if(limiteCollision({limite1:joueur,limite2:{...i,position:{x:i.position.x,y:i.position.y+3}}})){o=!1;break}}o&&bouger.forEach((e=>{e.position.y+=3}))}else if(touche.q.press&&"q"===derniereTouche){joueur.mouvement=!0,joueur.carteImage=joueur.bougerJoueurs.left;for(let e=0;e<frontieres.length;e++){const i=frontieres[e];if(limiteCollision({limite1:joueur,limite2:{...i,position:{x:i.position.x+3,y:i.position.y}}})){o=!1;break}}o&&bouger.forEach((e=>{e.position.x+=3}))}else if(touche.d.press&&"d"===derniereTouche){joueur.mouvement=!0,joueur.carteImage=joueur.bougerJoueurs.right;for(let e=0;e<frontieres.length;e++){const i=frontieres[e];if(limiteCollision({limite1:joueur,limite2:{...i,position:{x:i.position.x-3,y:i.position.y}}})){o=!1;break}}o&&bouger.forEach((e=>{e.position.x-=3}))}else if(touche.s.press&&"s"===derniereTouche){joueur.mouvement=!0,joueur.carteImage=joueur.bougerJoueurs.down;for(let e=0;e<frontieres.length;e++){const i=frontieres[e];if(limiteCollision({limite1:joueur,limite2:{...i,position:{x:i.position.x,y:i.position.y-3}}})){o=!1;break}}o&&bouger.forEach((e=>{e.position.y-=3}))}}}animationJoueur();